<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="/styles.css" />
  </head>
  <body>
    <nav>
      <ul>
        <li><a href="./index">Home</a></li>
        <li><a href="./faq">FAQ</a></li>
        <li><a href="./travel">Travel & Stay</a></li>
        <li><a href="./rsvp">RSVP</a></li>
      </ul>
    </nav>
    <div class="banner">
      <div class="text">
        <h1>RSVP</h1>
      </div>
    </div>
    <section class="faqs">
      <form
        class="rsvp-form"
        id="fs-frm"
        name="basic-rsvp-form"
        accept-charset="utf-8"
        method="post"
        data-netlify="true"
      >
        <fieldset id="fs-frm-inputs">
          <div>
            <label for="name">Full Name:</label>
            <input type="text" id="name" name="name" required />
          </div>
          <div>
            <label for="email">Email:</label>
            <input type="email" id="email" name="email" required />
          </div>
          <div>
            <label for="attend">Will you attend?</label>
            <select id="attend" name="attend" required>
              <option value="" disabled selected>Please select</option>
              <option value="yes">Yes, I'll be there!</option>
              <option value="no">Sorry, can't make it.</option>
            </select>
          </div>
          <div id="dinner-section" class="hidden">
            <div>
              <label for="dinner-selection">Dinner Selection:</label>
              <select id="dinner-selection" name="dinner-selection" required>
                <option value="" disabled selected>Please select</option>
                <option value="beef">Beef</option>
                <option value="salmon">Salmon</option>
                <option value="vegetarian">Vegetarian</option>
              </select>
            </div>
            <div>
              <label for="dietary-restrictions"
                >Do you have any dietary restrictions?</label
              >
              <input
                type="text"
                id="dietary-restrictions"
                name="dietary-restrictions"
              />
            </div>
            <div>
              <label for="bring-guests">Will you bring guests?</label>
              <select id="bring-guests" name="bring-guests" required>
                <option value="" disabled selected>Please select</option>
                <option value="yes">Yes, I'll bring guests.</option>
                <option value="no">No, it'll just be me.</option>
              </select>
            </div>
            <div id="guest-section" class="hidden">
              <div>
                <label for="num-guests">How many guests will you bring?</label>
                <select id="num-guests" name="num-guests" required>
                  <option value="" disabled selected>Please select</option>
                  <option value="1">1</option>
                  <option value="2">2</option>
                  <option value="3">3</option>
                  <option value="4">4</option>
                  <option value="5">5</option>
                </select>
              </div>
              <div id="guest-names-section" style="display: none">
                <div id="guest-names"></div>
              </div>
            </div>
          </div>
          <div id="song-requests-section" class="hidden">
            <label for="song-requests">Song Requests:</label>
            <textarea id="song-requests" name="song-requests"></textarea>
          </div>
          <div id="transportation-section" class="hidden">
            <label for="transportation">Do you require transportation?</label>
            <select id="transportation" name="transportation" required>
              <option value="" disabled selected>Please select</option>
              <option value="yes">Yes, I need transportation.</option>
              <option value="no">
                No, I'll provide my own transportation.
              </option>
            </select>
          </div>
          <div id="questions-section" class="hidden">
            <label for="questions-comments">Questions or Comments:</label>
            <textarea
              id="questions-comments"
              name="questions-comments"
            ></textarea>
          </div>
        </fieldset>
        <button type="submit" value="RSVP">RSVP</button>
      </form>
    </section>
  </body>

  <script>
    // Get DOM elements
    const attendSelect = document.getElementById("attend");
    const dinnerSection = document.getElementById("dinner-section");
    const bringGuestsSelect = document.getElementById("bring-guests");
    const guestSection = document.getElementById("guest-section");
    const numGuestsSelect = document.getElementById("num-guests");
    const guestNamesDiv = document.getElementById("guest-names");
    const guestNamesSection = document.getElementById("guest-names-section");
    const songRequestsSection = document.getElementById(
      "song-requests-section"
    );
    const transportationSection = document.getElementById(
      "transportation-section"
    );
    const questionsSection = document.getElementById("questions-section");

    // Show/hide sections based on user input
    attendSelect.addEventListener("change", function () {
      if (this.value === "yes") {
        dinnerSection.classList.remove("hidden");
        songRequestsSection.classList.remove("hidden");
        transportationSection.classList.remove("hidden");
        questionsSection.classList.remove("hidden");
      } else {
        dinnerSection.classList.add("hidden");
        bringGuestsSelect.value = "";
        guestSection.classList.add("hidden");
        guestNamesDiv.innerHTML = "";
      }
    });

    bringGuestsSelect.addEventListener("change", function () {
      if (this.value === "yes") {
        guestSection.classList.remove("hidden");
      } else {
        guestSection.classList.add("hidden");
        numGuestsSelect.value = "";
        guestNamesDiv.innerHTML = "";
      }
    });

    numGuestsSelect.addEventListener("change", function () {
      const numGuests = parseInt(this.value);

      // Show guest names section
      guestNamesSection.style.display = "block";

      // Create input fields for guest names, dinner selections, and dietary restrictions
      let guestInputs = "";
      for (let i = 1; i <= numGuests; i++) {
        guestInputs += `
      <div>
        <label for="guest${i}-name">Name of Guest ${i}:</label>
        <input type="text" id="guest${i}-name" name="guest${i}-name" required>
      </div>
      <div>
        <label for="guest${i}-dinner-selection">Guest ${i} Dinner Selection:</label>
        <select id="guest${i}-dinner-selection" name="guest${i}-dinner-selection" required>
          <option value="" disabled selected>Please select</option>
          <option value="beef">Beef</option>
          <option value="salmon">Salmon</option>
          <option value="vegetarian">Vegetarian</option>
        </select>
      </div>
      <div>
        <label for="guest${i}-dietary-restrictions">Guest ${i} Dietary Restrictions:</label>
        <input type="text" id="guest${i}-dietary-restrictions" name="guest${i}-dietary-restrictions">
      </div>
    `;
      }
      guestNamesDiv.innerHTML = guestInputs;
    });
  </script>
  <!-- <script>
    let attendance = document.getElementById("attending");
    let meal = document.getElementById("meal");
    let hidden = document.querySelector(".hidden-block");

    window.addEventListener("load", () => {
      if (attendance.value == "Yes") {
        hidden.style.display = "block";
        meal.removeAttribute("disabled");
      }
    });

    attendance.addEventListener("change", (e) => {
      console.log(meal.disabled);
      console.log(attendance.value);
      if (attendance.value == "Yes") {
        hidden.style.display = "block";
        meal.removeAttribute("disabled");
      } else {
        hidden.style.display = "none";
        meal.setAttribute("disabled", "");
      }
    });

    // CHATGPT

    const guestQuestion = document.querySelector("#guest-question");
    const guestInfo = document.querySelector("#guest-info");
    const numGuestsInput = document.querySelector("#num-guests");

    function createGuestNameInputs(numGuests) {
      const guestNames = document.querySelector("#guest-names");

      // Remove any existing guest name inputs
      while (guestNames.firstChild) {
        guestNames.removeChild(guestNames.firstChild);
      }

      // Create a name, dinner selection, and dietary restriction input for each guest
      for (let i = 1; i <= numGuests; i++) {
        const nameContainer = document.createElement("div");

        const nameLabel = document.createElement("label");
        nameLabel.setAttribute("for", `guest-name-${i}`);
        nameLabel.textContent = `Guest ${i}:`;

        const nameInput = document.createElement("input");
        nameInput.setAttribute("type", "text");
        nameInput.setAttribute("id", `guest-name-${i}`);
        nameInput.setAttribute("name", `guest-name-${i}`);

        const dinnerLabel = document.createElement("label");
        dinnerLabel.setAttribute("for", `guest-dinner-${i}`);
        dinnerLabel.textContent = `Dinner selection for Guest ${i}:`;

        const dinnerSelect = document.createElement("select");
        dinnerSelect.setAttribute("id", `guest-dinner-${i}`);
        dinnerSelect.setAttribute("name", `guest-dinner-${i}`);

        const dinnerOption1 = document.createElement("option");
        dinnerOption1.setAttribute("value", "chicken");
        dinnerOption1.textContent = "Chicken";

        const dinnerOption2 = document.createElement("option");
        dinnerOption2.setAttribute("value", "beef");
        dinnerOption2.textContent = "Beef";

        const dinnerOption3 = document.createElement("option");
        dinnerOption3.setAttribute("value", "fish");
        dinnerOption3.textContent = "Fish";

        dinnerSelect.appendChild(dinnerOption1);
        dinnerSelect.appendChild(dinnerOption2);
        dinnerSelect.appendChild(dinnerOption3);

        const dietaryLabel = document.createElement("label");
        dietaryLabel.setAttribute("for", `guest-dietary-${i}`);
        dietaryLabel.textContent = `Dietary restrictions for Guest ${i}:`;

        const dietaryInput = document.createElement("input");
        dietaryInput.setAttribute("type", "text");
        dietaryInput.setAttribute("id", `guest-dietary-${i}`);
        dietaryInput.setAttribute("name", `guest-dietary-${i}`);

        nameContainer.appendChild(nameLabel);
        nameContainer.appendChild(nameInput);
        nameContainer.appendChild(dinnerLabel);
        nameContainer.appendChild(dinnerSelect);
        nameContainer.appendChild(dietaryLabel);
        nameContainer.appendChild(dietaryInput);

        guestNames.appendChild(nameContainer);
      }
    }

    // Hide the guest info by default
    guestInfo.style.display = "none";

    // Add a change event listener to the guest question
    guestQuestion.addEventListener("change", function () {
      if (document.querySelector("#guests-yes").checked) {
        guestInfo.style.display = "block";
        createGuestNameInputs(numGuests);
      } else {
        guestInfo.style.display = "none";
      }
    });

    numGuestsInput.addEventListener("change", function () {
      const numGuests = this.value;
      createGuestNameInputs(numGuests);
    });
  </script> -->
</html>
